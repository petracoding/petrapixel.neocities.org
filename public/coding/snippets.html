<!doctype html><html lang="en"><head><title>code snippets | petrapixel</title><meta name="description" content="Quick and helpful coding tips and code snippets for Neocities. Easy enough for beginners!"><script src="../assets/js/main.js?nocache=20241213"></script><link rel="stylesheet" href="../assets/main.css?nocache=20241213"><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta content="utf-8" http-equiv="encoding"><meta name="viewport" content="width=device-width,initial-scale=1"><link href="../assets/img/favicon.ico" rel="icon" type="image/x-icon"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script><script>hljs.highlightAll()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-J64TL8KVTJ"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-J64TL8KVTJ")</script></head><body class="coding-page-layout"><noscript id="no-js-warning">Please enable JavaScript to to be able to use all functions of this website!</noscript><a href="#main" id="skip-to-content-link">Skip to content</a> <a href="/sitemap" id="skip-to-content-link2">Go to Sitemap</a><div id="content"><div id="theme-toggler" aria-hidden="true"><button type="button"><img src="../assets/img/layout/moon.gif" width="20" style="height:20px;image-rendering:pixelated" alt=""> <span>toggle theme</span></button></div><div id="font-toggler" aria-hidden="true"><button type="button"><span>toggle font</span></button></div><header><div class="header-heading"><a href="/"><img src="../assets/img/layout/petrapixel-coding.png" aria-label="petrapixel" height="100" width="300"></a></div></header><nav class="coding-navigation"><div class="coding-navigation-category" aria-label="Tools"><div class="coding-navigation-category__title"><a href="/coding#tools">Tools <small class="aside-nav__new"><img src="../assets/img/layout/new.gif" alt="" aria-hidden="true"></small></a></div><ul><li><a href="/coding/layout-generator">layout generator</a></li><li><a href="/coding/widgets">widgets for free neocities accounts <small class="aside-nav__new"><img src="../assets/img/layout/new.gif" alt="" aria-hidden="true"></small></a></li><li><a href="/coding/checklist">self-study checklist</a></li><li><a href="/coding/cheatsheet">cheatsheet</a></li></ul></div><div class="coding-navigation-category" aria-label="Guides"><div class="coding-navigation-category__title"><a href="/coding#guides">Guides</a></div><ul><li><a href="/coding/common-questions">common questions</a></li><li><a href="/coding/common-mistakes">common mistakes</a></li><li><a href="/coding/snippets">snippets & tips</a></li><li><a href="/coding/need-help">troubleshooting guide<small>(+ where/how to ask questions)</small></a></li><li><a href="/coding/code-quality">code quality guide</a></li><li><a href="/coding/now-what">i know html/css/js. ... now what?</a></li></ul></div><div class="coding-navigation-category" aria-label="Beginner Tutorials"><div class="coding-navigation-category__title"><a href="/coding#beginner">Beginner Tutorials</a></div><ul><li><a href="/coding/layout-base-code">how to load the same layout on every page</a></li><li><a href="/coding/positioning-tutorial">positioning/layout tutorial<small>(display, position, transform, z-index, flexbox, grid, ...)</small></a></li></ul></div><div class="coding-navigation-category" aria-label="Advanced Tutorials"><div class="coding-navigation-category__title"><a href="/coding#advanced">Advanced Tutorials</a></div><ul><li><a href="/coding/git-tutorial">git tutorial</a></li><li><a href="/coding/npm-tutorial">node/npm tutorial</a></li><li><a href="/coding/webpack-tutorial">webpack tutorial</a></li><li><a href="/coding/eleventy-tutorial">eleventy (11ty) tutorial<small>(static site generator)</small></a></li></ul></div><div class="coding-navigation-category" aria-label="Miscellaneous"><div class="coding-navigation-category__title"><a href="/coding#misc">Miscellaneous</a></div><ul><li><a href="/coding/neocities">neocities tips</a></li><li><a href="/coding/my-setup">my coding setup <small>(vscode settings + extensions)</small></a></li></ul></div></nav><aside class="aside aside--left"><div class="coding-back-to-home"><a href="/"><span><span>⇠</span> go back home</span> <img src="../assets/img/layout/pc.gif" alt="" aria-hidden="true"></a></div><img src="../assets/img/layout/divider4.gif" alt="" aria-hidden="true"><div class="aside-stuff aside-clap-kirby" style="margin-top:20px"><a class="aside-stuff__guestbook" aria-hidden="true" href="/about/guestbook"><img width="145" height="56" src="../assets/img/layout/kirby1light.png" alt="sign my guestbook" class="only-show-in-light-mode"> <img width="145" height="56" src="../assets/img/layout/kirby1.png" alt="sign my guestbook" class="only-show-in-dark-mode"> </a><a class="aside-stuff__guestbook" aria-label="follow me on neocities" href="https://neocities.org/site/petrapixel" target="_blank"><img width="145" height="56" src="../assets/img/layout/kirby2light.png" alt="follow me on neocities" class="only-show-in-light-mode"> <img width="145" height="56" src="../assets/img/layout/kirby2.png" alt="follow me on neocities" class="only-show-in-dark-mode"> </a><a id="clap-for-me" href="//clap.fc2.com/post/petrapixel/?url=https%3A%2F%2Fpetrapixel.neocities.org%2F&title=petrapixel" target="_blank"><img width="80" height="18" src="//clap.fc2.com/images/button/pink/petrapixel?url=https%3A%2F%2Fpetrapixel.neocities.org%2F&amp;lang=en" alt="clap for me on clap.fc2.com"> <small>click to clap for me!</small></a></div><div class="aside-stuff aside-link-back"><div class="aside-stuff__heading">Link back!<img src="../assets/img/layout/icon-copy.png" alt="" aria-hidden="true"></div><p>Hotlinking is a-okay!</p><a href="https://petrapixel.neocities.org/" target="_blank" tabindex="-1"><img src="https://cdn.jsdelivr.net/gh/petracoding/petrapixel.neocities.org@latest/public/assets/img/linkback.webp" alt="petrapixel" width="88" height="31"></a><textarea class="code-textarea" name="" id="" rows="10" aria-label="link-back code">
<a href="https://petrapixel.neocities.org/" target="_blank"><img src="https://cdn.jsdelivr.net/gh/petracoding/petrapixel.neocities.org@latest/public/assets/img/linkback.gif" alt="petrapixel"></a></textarea></div><div class="aside-stats__stat" style="margin-bottom:0;margin-top:2em"><div class="aside-stuff__heading"><span>Visitors</span><img src="../assets/img/layout/icon-stats.png" alt="" aria-hidden="true"></div><div class="aside-stats__stat-content"><center><a href="https://www.free-website-hit-counter.com"><img src="https://www.free-website-hit-counter.com/c.php?d=7&id=166390&s=18" border="0" alt="Free Website Hit Counter"></a></center><small style="font-size:.8em;letter-spacing:-.4px;text-align:center;display:block">(might not be entirely accurate)</small></div></div><img src="../assets/img/layout/divider6.gif" alt="" aria-hidden="true" style="margin-top:-5px"> <img src="../assets/img/layout/divider8.gif" alt="" aria-hidden="true" style="margin-top:2em"><div id="toc-position"></div><div id="toc"></div><img src="../assets/img/layout/divider2.gif" alt="" aria-hidden="true" style="image-rendering:pixelated"></aside><div id="back-to-top-link" aria-hidden="true"><a href="#" tabindex="-1">scroll to top</a></div><main id="main" class="coding-page"><section><h1>Code Snippets</h1><div id="toc"><b>Table of Contents:</b><ol><li><a href="#js">JavaScript snippets</a></li><li><a href="#htmlcss">HTML/CSS Snippets</a></li></ol></div></section><h2 style="margin-bottom:.5em" id="js">JavaScript snippets</h2><section><h3>Same header/footer on every page</h3><p>You can load your header/footer via javascript. This is helpful so you don't have to update the code for your header/footer on every single page when you make a change.</p><a href="/coding/common-questions.html#layout" class="blog-article__read">Read...</a></section><section><h3>Automatic Tab Title Suffix</h3><p>for example, changing "about me" in the browser tab to "about me | your site name"</p><details><summary>Show/Hide</summary><pre><code>
const tabTitle = document.title; 
if (tabTitle !== "YOUR HOME TITLE") { 
	document.title = tabTitle + " | some text"; 
}
</code></pre><p>The <i>if</i> makes sure that the title of your homepage doesn't end up like "site name | site name"</p></details></section><section><h3>Highlight active links</h3><p>You can give the class "active" to any active navigation links automatically</p><details><summary>Show/Hide</summary><pre><code>
const linkElements = document.querySelectorAll("nav a");
[...linkElements].forEach((el) => {
  const href = el.getAttribute("href").replace(".html", "").replace("/public", "");

  if (href == "/" || href == "/index.html") {
    if (window.location.pathname == "/") {
      el.classList.add("active");
    }
  } else {
    if (window.location.href.includes(href)) {
      el.classList.add("active");
    }
  }
});
</code></pre><p>(You will need to change the selector for your navigation links (default: "nav a").)</p><hr></details></section><section><h3>Automatic Table of Contents</h3><p>(example on <a href="/resources/bookmarks.html">this page</a>)</p><details><summary>Show/Hide</summary><p>In your HTML, add this line whereever you want it to be:</p><pre><code>
&lt;div id="toc"&gt;&lt;/div&gt;
</code></pre><p>The JavaScript:</p><pre><code>
const container = document.querySelector("#toc");
if (!container) return;
const allHeadings = document.querySelectorAll("h2");
if (allHeadings.length &lt; 2) return;
let output = "&lt;b&gt;Table of Contents:&lt;/b&gt;&lt;ol&gt;";
[...allHeadings].forEach((headingEl) =&gt; {
	const title = headingEl.innerHTML;
	const link =
	      headingEl.getAttribute("id") ||
	      encodeURI(
	        title
	          .replaceAll(" ", "-")
	          .replaceAll("#", "")
          	  .replaceAll("&amp;", "")
	          .replaceAll(/&lt;[^&gt;]*&gt;?/gm, "")
          	  .replaceAll("--", "-")
	      ).toLowerCase();
	headingEl.setAttribute("id", link);
	output += `&lt;li&gt;&lt;a href="#${link}"&gt;${title}&lt;/a&gt;&lt;/li&gt;`;
});
container.innerHTML = output + "&lt;/ol&gt;";
</code></pre><p>Change the selector (default: "h2") to any selector that targets the headings you want to turn into the table of contents.</p><p>You can override the automatically generated ID of a heading by simply setting a custom one in the HTML.</p></details></section><section><h3>Automatic Redirect</h3><details><summary>Show/Hide</summary><p>Similar behavior as an HTTP redirect (= not in browser history):</p><pre><code>window.location.replace("https://petrapixel.neocities.org/");</code></pre><p>or</p><p>Similar behavior as clicking on a link (= in browser history):</p><pre><code>window.location.href = "https://petrapixel.neocities.org/";</code></pre></details></section><h2 style="margin-bottom:.5em" id="htmlcss">HTML/CSS Snippets</h2><section><h3>Color Filter over Image</h3><p>(examples see <a href="/about/blinkies.html">here</a>)</p><details><summary>Show/Hide</summary><p>HTML:</p><pre><code>
&lt;div class=&quot;pink-image&quot;&gt;&lt;img src=&quot;...&quot; /&gt;&lt;/div&gt;
</code></pre><p>CSS:</p><pre><code>
.pink-image {
  position: relative;

  img {
    filter: brightness(1.1) contrast(1.3);
  }

  &::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    top: 0;
    background: pink;
    opacity: 0.25; 
    pointer-events: none;
  }
}
</code></pre><p>You can adjust the filters, the background color and the opacity of the background color.</p></details></section></main><footer><div class="footer-content"><a class="footer-rss" href="/rss.xml" target="_blank" aria-label="RSS Feed" title="RSS Feed"><img src="../assets/img/layout/rss.png" alt="RSS"></a><i>┊</i> created by petrapixel 2024 - <span>∞</span> <i>┊</i> <a href="https://neocities.org/site/petrapixel" target="_blank">my neocities profile</a> <span class="desktop-only"><i>┊</i> <a href="/sitemap">sitemap</a> <i>┊</i> <a href="https://github.com/petracoding/petrapixel.neocities.org" target="_blank">github</a> <i>┊</i> <a href="https://ko-fi.com/petrastipjar" target="_blank">tip jar</a></span></div><div class="footer-content mobile-only"><a id="clap-for-me" href="//clap.fc2.com/post/petrapixel/?url=https%3A%2F%2Fpetrapixel.neocities.org%2F&title=petrapixel" target="_blank"><img width="80" height="18" src="//clap.fc2.com/images/button/pink/petrapixel?url=https%3A%2F%2Fpetrapixel.neocities.org%2F&amp;lang=en" alt="clap for me on clap.fc2.com"> <small>click to clap for me!</small></a><br><center><small>Visitors:</small> <a href="https://www.free-website-hit-counter.com"><img src="https://www.free-website-hit-counter.com/c.php?d=7&id=166390&s=18" border="0" alt="Free Website Hit Counter"></a></center></div></footer></div></body></html>